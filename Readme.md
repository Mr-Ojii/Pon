# Pon
気軽に使うことを想定した、ポン出し用ソフトウェアです。  
サンプラー方式ってやつで、32Key?あります。  
お世話になっている方に頼まれ、作成しました。  
「OSSとして公開しても大丈夫でしょうか？」と尋ねたところ快諾していただいたため、公開します。  

## 制限事項
- ファイルオープン時にメモリ上に全サンプルをデコード、リサンプリングをし、再生時にはメモリ上からそのまま読み出して再生します。  
  つまり、使用時のCPU使用率を抑えるためにメモリ使用量を犠牲にしているため、それなりのメモリ容量が必要です。
- ASIOは使えません

## 対応プラットフォーム
SDL2/SDL2_mixerのビルドが可能であるプラットフォーム

## 対応ファイル形式
SDL_mixerで読み込み可能な形式の一部に対応しています。  
Wav(LPCM), MP3, Ogg(Vorbis), Opus, Flac...

## 使い方
### 頒布バイナリを使用
#### 環境構築
##### Windows (x64)
[Visual C++ 再頒布可能パッケージ 2015-2022 X64](https://learn.microsoft.com/ja-jp/cpp/windows/latest-supported-vc-redist?view=msvc-170) のインストール
##### macOS (arm64)
`brew install sdl2 sdl2_mixer`
##### Ubuntu 24.04 LTS (x64)
`sudo apt install libsdl2-2.0-0 libsdl2-mixer-2.0-0`

#### 起動方法
##### Windows (x64)
`Pon.exe`をダブルクリック
##### macOS (arm64)
```
chmod +x ./Pon
xattr -rc ./Pon
./Pon
```
##### Ubuntu 24.04 LTS (x64)
```
chmod +x ./Pon
./Pon
```

### ビルドして使用
ビルド方法は`.github/workflows/build.yml`をご覧ください。  
起動方法については頒布バイナリと同様の方法をおとりください。

### 効果音の読み込み方法
起動すると、無機質な画面にボタンのみが出ます。  
各ボタンに登録したい音声をD&Dすることで登録できます。  
ボタンに音声ファイルが登録されているかはボタンの明るさで判別できます  
次回起動からは前回に登録されていたファイルが自動的に読み込まれます。

### 設定ファイル
TOML形式を使用しています。  
グローバル変数の"files"にそれぞれのファイルパスのリストが載っています。

### 音の鳴らし方
3種類の方法があります。
1. ボタンをクリックします
2. キーボードを押下します。以下のように割り当てられています。
    1. 1段目は「12345678」
    2. 2段目は「QWERTYUI」
    3. 3段目は「ASDFGHJK」
    4. 4段目は「ZXCVBNM,」
3. MIDIキーボードを押下します。一番低い「ド」から順番に対応しています。

### 音の停止
Shiftキーを押下したまま対応したキーボードを押下することで、停止できます。

## 免責事項
このプログラムを用い発生した損害について、作者は一切の責任を負いません。
